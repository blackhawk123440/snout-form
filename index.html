<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Snout Pet Care - Booking Component</title>
  <link rel="stylesheet" href="./assets/snout.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
</head>
<body>
<div class="booking-container" data-wf-form="booking">
<div class="booking-content">
<div class="form-section active" data-step="1" id="step1">
<div class="section-header"><div><h2 class="section-title">Choose Your Service</h2></div></div>
<div class="service-grid">
<div class="service-card" data-service="dropins" onclick="selectService(this, 'dropins')"><div class="service-icon"><i class="fas fa-home"></i></div><div class="service-name">Drop-Ins</div></div>
<div class="service-card" data-service="housesitting" onclick="selectService(this, 'housesitting')"><div class="service-icon"><i class="fas fa-couch"></i></div><div class="service-name">House Sitting</div></div>
<div class="service-card" data-service="walks" onclick="selectService(this, 'walks')"><div class="service-icon"><i class="fas fa-dog"></i></div><div class="service-name">Walks</div></div>
<div class="service-card" data-service="taxi" onclick="selectService(this, 'taxi')"><div class="service-icon"><i class="fas fa-car"></i></div><div class="service-name">Pet Taxi</div></div>
</div>
<div class="pet-section" id="petSection" style="display:none;">
<div class="pet-section-header"><h3 class="pet-section-title">Your Pets</h3></div>
<div class="pet-dropdown">
<div class="pet-dropdown-trigger" onclick="togglePetPanel()"><span id="petTriggerText">Select your pets</span><i class="fas fa-chevron-down" id="petChevron"></i></div>
<div class="pet-dropdown-panel" id="petPanel">
<div class="pet-wheel">
<div class="pet-type-row"><span class="pet-type-name">Dog</span><div class="pet-counter" data-type="dog"><button class="pet-counter-btn" onclick="updatePetCount('dog', -1)">−</button><input class="pet-counter-input" readonly="" value="0"/><button class="pet-counter-btn" onclick="updatePetCount('dog', 1)">+</button></div></div>
<div class="pet-type-row"><span class="pet-type-name">Cat</span><div class="pet-counter" data-type="cat"><button class="pet-counter-btn" onclick="updatePetCount('cat', -1)">−</button><input class="pet-counter-input" readonly="" value="0"/><button class="pet-counter-btn" onclick="updatePetCount('cat', 1)">+</button></div></div>
<div class="pet-type-row"><span class="pet-type-name">Bird</span><div class="pet-counter" data-type="bird"><button class="pet-counter-btn" onclick="updatePetCount('bird', -1)">−</button><input class="pet-counter-input" readonly="" value="0"/><button class="pet-counter-btn" onclick="updatePetCount('bird', 1)">+</button></div></div>
<div class="pet-type-row"><span class="pet-type-name">Farm Animal</span><div class="pet-counter" data-type="farm"><button class="pet-counter-btn" onclick="updatePetCount('farm', -1)">−</button><input class="pet-counter-input" readonly="" value="0"/><button class="pet-counter-btn" onclick="updatePetCount('farm', 1)">+</button></div></div>
<div class="pet-type-row"><span class="pet-type-name">Reptile</span><div class="pet-counter" data-type="reptile"><button class="pet-counter-btn" onclick="updatePetCount('reptile', -1)">−</button><input class="pet-counter-input" readonly="" value="0"/><button class="pet-counter-btn" onclick="updatePetCount('reptile', 1)">+</button></div></div>
<div class="pet-type-row">
<span class="pet-type-name">Other</span>
<input class="pet-type-other-input" id="customPetInput" oninput="debounce(handleCustomPetType, 300)(this.value)" placeholder="Enter type (e.g., Fish)"/>
<div class="pet-counter" data-type="other"><button class="pet-counter-btn" onclick="updatePetCount('other', -1)">−</button><input class="pet-counter-input" readonly="" value="0"/><button class="pet-counter-btn" onclick="updatePetCount('other', 1)">+</button></div>
</div>
</div>
</div>
</div>
<div class="selected-pets-summary" id="petSummary"></div>
</div>
<div class="booking-type-grid" id="bookingTypeSection" style="display:none;">
<div class="type-card selected" data-type="one-time" onclick="selectType(this, 'one-time')"><div class="type-icon"><i class="fas fa-calendar-day"></i></div><div class="type-label">One Time</div></div>
<div class="type-card" data-type="weekly" onclick="selectType(this, 'weekly')"><div class="type-icon"><i class="fas fa-calendar-week"></i></div><div class="type-label">Weekly</div></div>
<div class="toggle-checkbox" id="houseSittingToggle" style="display:none;">
<input id="care24Hour" onchange="update24HourCare(this.checked)" type="checkbox"/>
<label class="toggle-text" for="care24Hour">24-Hour Care</label>
</div>
</div>
<button class="btn btn-primary" data-wf-action="next" disabled="" id="nextBtn1" onclick="nextStep(2)"><i class="fas fa-arrow-right"></i> Next: Choose Dates</button>
</div>
<div class="form-section" data-step="2" id="step2">
<div class="section-header">
<div>
<h2 class="section-title">Select Your Dates</h2>
<p class="section-subtitle" id="calendarSubtitle">Tap dates to select/deselect. Tap + to choose times.</p>
</div>
</div>
<div class="calendar-container">
<div class="calendar-header">
<button class="calendar-nav" onclick="prevMonth()"><i class="fas fa-chevron-left"></i></button>
<div class="calendar-title" id="calendarTitle">Loading…</div>
<button class="calendar-nav" onclick="nextMonth()"><i class="fas fa-chevron-right"></i></button>
</div>
<div class="calendar-grid" id="calendarGrid">
<div class="calendar-header-day">Sun</div><div class="calendar-header-day">Mon</div><div class="calendar-header-day">Tue</div><div class="calendar-header-day">Wed</div><div class="calendar-header-day">Thu</div><div class="calendar-header-day">Fri</div><div class="calendar-header-day">Sat</div>
</div>
</div>
<div class="selected-dates-summary" id="selectedDatesSummary" style="display:none;">
<div class="selected-dates-header">
<div class="selected-dates-title">Selected Dates <span class="selected-date-count" id="selectedDateCountNum">0</span></div>
</div>
<div class="selected-dates-list" id="selectedDatesSummaryList"></div>
</div>
<button class="btn btn-secondary" data-wf-action="back" onclick="prevStep(1)"><i class="fas fa-arrow-left"></i> Back</button>
<button class="btn btn-primary" data-wf-action="next" disabled="" id="nextBtn2" onclick="nextStep(3)">Next: Select Times</button>
</div>
<div class="form-section" data-step="3" id="step3">
<div class="section-header">
<div><h2 class="section-title">Select Times for Your Dates</h2><p class="section-subtitle">Choose times for each selected date</p></div>
</div>
<div class="selected-dates-container" id="selectedDatesContainer">
<div class="selected-dates-header">
<div class="selected-dates-title">Selected Dates <span class="selected-date-count" id="selectedDateCountNum2">0</span></div>
<label class="apply-all-toggle" id="applyAllContainer" style="display:none;">
<input aria-checked="false" id="applyAllToggle" role="switch" type="checkbox"/>
<span aria-hidden="true" class="switch"></span>
<span class="toggle-label">Apply to all dates</span>
</label>
</div>
<div class="selected-dates-list" id="selectedDatesList"></div>
</div>
<div class="house-sitting-note" id="houseSittingNote" style="display:none;">
<i class="fas fa-home"></i>
<p style="margin:0;">When booking <span class="hs-emph">house sitting</span>, select <span class="hs-emph">consecutive days</span>. Use the <span class="hs-emph">first day</span> to set the <span class="hs-emph">start time</span> and the <span class="hs-emph">last day</span> to set the <span class="hs-emph">end time</span>.</p>
</div>
<button class="btn btn-secondary" data-wf-action="back" onclick="prevStep(2)"><i class="fas fa-arrow-left"></i> Back</button>
<button class="btn btn-primary" data-wf-action="next" disabled="" id="nextBtn3" onclick="nextStep(4)">Next: Contact Info</button>
</div>
<div class="form-section" data-step="4" id="step4">
<div class="section-header">
<div><h2 class="section-title">Contact Information</h2><p class="section-subtitle">Final details to confirm your booking</p></div>
</div>
<div class="contact-grid" data-wf-form-section="contact">
<div class="contact-row">
<div class="contact-group"><label class="contact-label" for="firstName">First Name *</label><input autocomplete="given-name" class="contact-input" data-wf-field="firstName" id="firstName" name="firstName" placeholder="John" required="" type="text"/></div>
<div class="contact-group"><label class="contact-label" for="lastName">Last Name *</label><input autocomplete="family-name" class="contact-input" data-wf-field="lastName" id="lastName" name="lastName" placeholder="Doe" required="" type="text"/></div>
</div>
<div class="contact-row">
<div class="contact-group"><label class="contact-label" for="phone">Phone Number *</label><input autocomplete="tel" class="contact-input" data-wf-field="phone" id="phone" name="phone" placeholder="(123) 456-7890" required="" type="tel"/></div>
<div class="contact-group"><label class="contact-label" for="email">Email *</label><input autocomplete="email" class="contact-input" data-wf-field="email" id="email" name="email" placeholder="you@example.com" required="" type="email"/></div>
</div>
<div class="contact-group full-width" id="addressGroup"><label class="contact-label" for="address">Service Address *</label><textarea autocomplete="street-address" class="contact-input contact-textarea" data-wf-field="address" id="address" name="address" placeholder="123 Main St, City, State 12345" required=""></textarea></div>
<div class="contact-group full-width" id="startingAddressGroup" style="display:none;"><label class="contact-label" for="startingAddress">Starting Address *</label><textarea class="contact-input contact-textarea" data-wf-field="startingAddress" id="startingAddress" name="startingAddress" placeholder="Starting address for pet taxi" required=""></textarea></div>
<div class="contact-group full-width" id="endingAddressGroup" style="display:none;"><label class="contact-label" for="endingAddress">Ending Address *</label><textarea class="contact-input contact-textarea" data-wf-field="endingAddress" id="endingAddress" name="endingAddress" placeholder="Destination address for pet taxi" required=""></textarea></div>
<div class="contact-group full-width"><label class="contact-label" for="instructions">Additional Notes</label><textarea class="contact-input contact-textarea" data-wf-field="instructions" id="instructions" name="instructions" placeholder="Any additional notes, questions, or preferred sitter..."></textarea></div>
</div>
<div class="policy-checkbox">
<input data-wf-field="policyAgreement" id="policyAgreement" name="policyAgreement" required="" type="checkbox"/>
<label class="policy-text" for="policyAgreement">I agree to Snout Services' booking policies, including deposits and cancellation windows, and I understand all requests must be submitted through this form.</label>
</div>
<button class="btn btn-primary" data-wf-action="submit" disabled="" id="submitBtn" onclick="submitForm()" type="button"><i class="fas fa-paper-plane"></i> Submit Booking</button>
<button class="btn btn-secondary" data-wf-action="back" onclick="prevStep(3)" type="button"><i class="fas fa-arrow-left"></i> Back</button>
</div>
<div class="form-section" data-step="5" id="step5">
<div class="section-header"><div class="section-icon"><i class="fas fa-check-circle"></i></div><div><h2 class="section-title">Booking received</h2></div></div>
<p class="confirmation-message">Your booking request has been submitted.<br/>Thank you for booking with Snout Services!</p>
<button class="btn btn-primary" data-wf-action="reset" onclick="startNewBooking()"><i class="fas fa-plus"></i> Start New Booking</button>
</div>
</div>
</div>
<div class="time-modal" id="timeModal">
<div class="time-modal-content">
<div class="time-modal-header">
<h3 class="time-modal-title" id="modalDateTitle">Select Times</h3>
<button class="time-modal-close" onclick="closeTimeModal()"><i class="fas fa-times"></i></button>
</div>
<div class="time-modal-date"><div class="time-modal-date-text" id="modalDateDisplay"></div></div>
<div class="time-slots-container" id="timeSlotsContainer"><div id="snoutWheelMount"></div></div>
<div class="time-picker-slot"></div>
<div class="time-modal-actions"><button class="btn btn-secondary btn-small" data-wf-action="close-modal" onclick="closeTimeModal()">Done</button></div>
</div>
</div>
<div aria-live="polite" class="toast" id="toast" role="status"></div>
<template id="timePickerTemplate">
<div aria-label="Select Times" class="tp-card" role="dialog">
<div class="tp-head">
<div class="tp-title">Select Times</div>
<button class="tp-done" type="button">Done</button>
</div>
<div class="tp-list">
<!-- Build 5:00 AM → 10:30 PM in JS -->
</div>
<div class="tp-foot">
<div class="tp-empty">No times yet. Tap a time to add. 30m by default.</div>
</div>
</div>
</template>




<!-- HARDENING PATCH START: Nonnegotiable Rules Enforcement -->

<!-- HARDENING PATCH END -->
<!-- SOFT ERROR REMINDER TOAST (2.5s) -->


<!-- SOFT ERROR REMINDER TOAST END -->

</body>
<script src="./assets/snout.js"></script>
</html>